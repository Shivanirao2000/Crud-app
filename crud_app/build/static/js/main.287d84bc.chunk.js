(this.webpackJsonpcrud_app=this.webpackJsonpcrud_app||[]).push([[0],{33:function(e,t,a){},39:function(e,t,a){e.exports=a(67)},44:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(35),l=a.n(o),c=a(20),s=(a(44),a(10)),i=a(11),m=a(13),u=a(12),d=a(2),p=a(17),h=a(14),v=a.n(h),f=(a(32),a(16)),b=a(19),g=a(36),E=a(37),y=(a(33),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={heading:"Share your memories!",title:"",body:"",posts:[]},n.componentDidMount=function(){n.getBlogPost()},n.getBlogPost=function(){v.a.get("/api").then((function(e){var t=e.data;n.setState({posts:t}),console.log("Data has been received!!")})).catch((function(){alert("Error retrieving data!!!")}))},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(p.a)({},a,r))},n.submit=function(e){e.preventDefault();var t={title:n.state.title,body:n.state.body};v()({url:"/api/save",method:"POST",data:t}).then((function(){console.log("Data has been sent to the server"),n.resetUserInputs(),n.getBlogPost()})).catch((function(){console.log("Internal server error")}))},n.fRemove=function(e){v.a.delete("/api/".concat(e)).then((function(e){n.getBlogPost()}))},n.fEdit=function(e){var t=n.state,a={title:t.title,body:t.body};v.a.put("/api/update/".concat(e),a).then((function(e){e.data.success&&(alert("Edited successfully"),n.getBlogPost())}))},n.resetUserInputs=function(){n.setState({title:"",body:""})},n.state={posts:[]},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.state.posts;return r.a.createElement("div",{className:"App"},r.a.createElement("h2",null,this.state.heading),r.a.createElement("form",{ref:"myForm",className:"myForm"},r.a.createElement("input",{type:"text",name:"title",placeholder:"image url",className:"formField",value:this.state.title,onChange:this.handleChange}),r.a.createElement("input",{type:"text",name:"body",placeholder:"description",className:"formField",value:this.state.body,onChange:this.handleChange}),r.a.createElement("button",{onClick:function(t){return e.submit(t)},className:"myButton"},"submit ")),r.a.createElement(b.a,null,r.a.createElement(g.a,{md:3,sm:6},t.map((function(t,a){return r.a.createElement(E.a,null,r.a.createElement("li",{key:a,className:"myList"},r.a.createElement(f.a,{style:{width:"18rem"}},r.a.createElement(f.a.Img,{variant:"top",src:t.title,fluid:!0}),r.a.createElement(f.a.Body,null,r.a.createElement(f.a.Text,null,t.body)),r.a.createElement("button",{onClick:function(){return e.fRemove(t._id)},className:"myListButton"},"remove "),r.a.createElement("a",{className:"btn btn-warning",href:"/edit/".concat(t._id)},r.a.createElement("i",{className:"fas fa-edit"}),"\xa0Edit"))))})))))}}]),a}(r.a.Component)),N=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={post:{}},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;v.a.get("posts/detail/".concat(t)).then((function(t){t.data.success&&(e.setState({post:t.data.post}),console.log("post: ",e.state.post))}))}},{key:"render",value:function(){var e=this.state.post,t=e.title,a=e.body;return r.a.createElement("div",null,r.a.createElement("h4",null,t),r.a.createElement("hr",null),r.a.createElement("dl",{className:"row"},r.a.createElement("dt",{className:"col-sm-2"},"Body"),r.a.createElement("dd",{className:"col-sm-10"},a)))}}]),a}(n.Component),O=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={title:"",body:"",posts:[]},n.componentDidMount=function(){n.getBlogPost()},n.getBlogPost=function(){v.a.get("/api").then((function(e){var t=e.data;n.setState({posts:t}),console.log("Data has been received!!")})).catch((function(){alert("Error retrieving data!!!")}))},n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(p.a)({},a,r))},n.fEdit=function(e){var t=n.props.match.params.id,a={title:n.state.title,body:n.state.body};v.a.put("/api/update/".concat(t),a).then((function(e){e.data.success&&(alert("Edited successfully"),n.getBlogPost())}))},n.resetUserInputs=function(){n.setState({title:"",body:""})},n.state={title:"",body:"",posts:[]},n}return Object(i.a)(a,[{key:"render",value:function(){var e=this;this.state.posts;return r.a.createElement("div",{className:"App"},r.a.createElement("h2",null,"Edit post"),r.a.createElement("form",{ref:"myForm",className:"myForm"},r.a.createElement("input",{type:"text",name:"title",placeholder:"image url",className:"formField",value:this.state.title,onChange:this.handleChange}),r.a.createElement("input",{type:"text",name:"body",placeholder:"description",className:"formField",value:this.state.body,onChange:this.handleChange}),r.a.createElement("button",{onClick:function(t){return e.fEdit(t)},className:"myButton"},"submit ")))}}]),a}(r.a.Component),j=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},r.a.createElement("a",{className:"navbar-brand",href:"#"},"Mern stack"),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement("a",{className:"nav-link",href:"/"},"All Posts ",r.a.createElement("span",{className:"sr-only"},"(current)"))))))}}]),a}(n.Component),k=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.c,null,r.a.createElement("div",{className:"container"},r.a.createElement(j,null),r.a.createElement(d.a,{exact:!0,path:"/",component:y}),r.a.createElement(d.a,{path:"/posts/:id",component:N}),r.a.createElement(d.a,{path:"/edit/:id",component:O}))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(c.a,null,r.a.createElement(k,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[39,1,2]]]);
//# sourceMappingURL=main.287d84bc.chunk.js.map